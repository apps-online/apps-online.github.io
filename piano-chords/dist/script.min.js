var audio=[];function tone(a){play(a,"tone")}function semitone(a){play(a,"semitone")}function play(a,b){audio[a]||(audio[a]=document.createElement("audio"),audio[a].setAttribute("src","piano/"+b+"/"+a+".mp3"),document.getElementsByTagName("head")[0].appendChild(audio[a])),audio[a].play()}!function($){$.fn.vpcf=function(a){var b=this,c=$.extend({number_of_keys:35,key_width:35,key_height:130,chord_color:"#f3c732",scale_color:"#b7d03e"},a);return this.each(function(){var n=c.chord_color,o=c.scale_color,a=c.number_of_keys,d=c.key_width,e=c.key_height,g=new Array(1,3,6,8,10,13,15,18,20,22,25,27,30,32,34,37,39,42,44,46,49,51,54,56,58,61,63,66,68,70,73,75,78,80,82),k=parseInt(d/4),l=parseInt(d/2),m=parseInt(e/1.65),h=0,f=0,i=0,p=new Array("C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B","C","C#","D","Eb","E","F","F#","G","G#","A","Bb","B","C","C#","D"),q="",r=0;isNaN(a)?a=35:a>83?a=83:a<35&&(a=35);var j=Math.round(a/12);for(j=12*Math.round(j/2)-13,-1!=$.inArray(a,g)&&(a+=1),$(b).append('<div id="vpcf_container"></div>'),$(b).append('<div id="vpcf_controls"></div>'),key=0;key<=a;key++)-1!=$.inArray(key,g)?(h=d*f-k,$("#vpcf_container").append('<div class="vpcf_black_key" id="vpcf_key_'+key+'" style="margin-left:'+h+"px;width:"+l+"px;height:"+m+'px;"></div>')):($("#vpcf_container").append('<div class="vpcf_white_key" id="vpcf_key_'+key+'" style="margin-left:'+i+"px;width:"+d+"px;height:"+e+'px"></div>'),i+=d,f++);function s(a){$(".vpcf_black_key").css("background-color","#363636"),$(".vpcf_white_key").css("background-color","#FFFFFF");var b=0;$(".vpcf_notes").text(""),$.each(a,function(c,a){r=parseInt(a)+j+b,$("#vpcf_key_"+r).css("background-color",o),b=parseInt(a)+b,$("#vpcf_scales h3 .vpcf_notes").append(p[b-1]+" ")})}function t(a){$(".vpcf_black_key").css("background-color","#363636"),$(".vpcf_white_key").css("background-color","#FFFFFF"),$(".vpcf_notes").text(""),$.each(a,function(b,a){r=parseInt(a)+j,$("#vpcf_key_"+r).css("background-color",n),$("#vpcf_chords h3 .vpcf_notes").append(p[parseInt(a)-1]+" ")})}$("#vpcf_container").width(f*d+2),$("#vpcf_container").height(e+2),$("#vpcf_controls").append('<div id="vpcf_root_controls"><ul><li id="vpcf_root_1">C<sup>&nbsp;</sup></li><li id="vpcf_root_2">C<sup>#</sup> / D<sup>b</sup></li><li id="vpcf_root_3">D<sup>&nbsp;</sup></li><li id="vpcf_root_4">D<sup>#</sup> / E<sup>b</sup></li><li id="vpcf_root_5">E<sup>&nbsp;</sup></li><li id="vpcf_root_6">F / E<sup>#</sup></li><li id="vpcf_root_7">F<sup>#</sup> / G<sup>b</sup></li><li id="vpcf_root_8">G<sup>&nbsp;</sup></li><li id="vpcf_root_9">G<sup>#</sup> / A<sup>b</sup></li><li id="vpcf_root_10">A<sup>&nbsp;</sup></li><li id="vpcf_root_11">A<sup>#</sup> / B<sup>b</sup></li><li id="vpcf_root_12">B / C<sup>b</sup> </li></ul></div><div class="vpcf_clear"></div>'),$("#vpcf_controls").append('<div id="vpcf_chords"><h3 class="vpcf_title">Chords<span class="vpcf_error">Choose the Root Note Above</span><span class="vpcf_notes"></span></h3><div><ul><li><span>5,8</span>Major</li><li><span>4,8</span>Minor</li><li><span>8</span>5</li><li><span>5,8,11</span>Dominant 7th</li><li><span>5,8,12</span>Major 7th</li><li><span>4,8,11</span>Minor 7th</li><li><span>4,8,12</span>Minor Major 7th</li><li><span>6,8</span>Sus 4</li><li><span>3,8</span>Sus 2</li><li><span>5,8,10</span>6</li><li><span>4,8,10</span>Minor 6</li><li><span>5,8,11,15</span>9</li><li><span>4,8,11,15</span>Minor 9</li><li><span>5,8,12,15</span>Major 9</li><li><span>3,4,8,12,15</span>Minor Major 9</li><li><span>3,5,6,8,11</span>11</li><li><span>3,4,6,8,11</span>Minor 11</li><li><span>3,5,6,8,12</span>Major 11</li><li><span>3,4,6,8,12</span>Minor Major 11</li><li><span>3,5,8,10,11</span>13</li><li><span>3,4,8,10,11</span>Minor 13</li><li><span>3,5,8,10,12</span>Major 13</li><li><span>3,4,8,10,12</span>Minor Major 13</li><li><span>5,8,15</span>add 9</li><li><span>4,8,15</span>Minor add 9</li><li><span>5,8,10,15</span>6 add 9</li><li><span>4,8,10,15</span>Minor 6 add 9</li><li><span>5,6,8,11</span>Dominant 7th add 11</li><li><span>5,6,8,12</span>Major 7th add 11</li><li><span>4,6,8,11</span>Minor 7th add 11</li><li><span>4,8,12,6</span>Minor Major 7th add 11</li><li><span>5,8,11,10</span>Dominant 7th add 13</li><li><span>5,8,12,10</span>Major 7th add 13</li><li><span>4,8,11,10</span>Minor 7th add 13</li><li><span>4,8,10,12</span>Minor Major 7th add 13</li><li><span>5,7,11</span>7b5</li><li><span>5,9,11</span>7#5</li><li><span>2,5,8,11</span>7b9</li><li><span>4,5,8,11</span>7#9</li><li><span>2,5,9,11</span>7#5b9</li><li><span>4,7,11</span>m7b5</li><li><span>4,9,11</span>m7#5</li><li><span>2,4,8,11</span>m7b9</li><li><span>3,5,7,8,11</span>9#11</li><li><span>3,5,8,9,11</span>9b13</li><li><span>6,8,10</span>6sus4</li><li><span>6,8,11</span>7sus4</li><li><span>6,8,12</span>Major 7th Sus4</li><li><span>3,6,8,11</span>9sus4</li><li><span>3,6,8,12</span>Major 9 Sus4</li></ul></div></div>'),$("#vpcf_controls").append('<div id="vpcf_scales"><h3 class="vpcf_title">Scales<span class="vpcf_error">Choose the Root Note Above</span><span class="vpcf_notes"></span></h3><div><ul><li><span>2,2,1,2,2,2,1</span>Major</li><li><span>2,1,2,2,2,2,1</span>Minor</li><li><span>2,1,2,2,1,3,1</span>Harmonic Minor</li><li><span>2,1,2,2,2,2,1</span>Melodic Minor</li><li><span>2,3,2,2,3</span>Pentatonic Major</li><li><span>3,2,2,3,2</span>Pentatonic Minor</li><li><span>3,2,1,1,3</span>Pentatonic Blues</li><li><span>2,3,2,3</span>Pentatonic Neutral</li><li><span>2,2,1,2,2,2,1</span>Ionian</li><li><span>3,2,1,2,2,1,2,2</span>Aeolian</li><li><span>2,1,2,2,2,1,2</span>Dorian</li><li><span>2,2,1,2,2,1,2</span>Mixolydian</li><li><span>1,2,2,2,1,2,2</span>Phrygian</li><li><span>2,2,2,1,2,2,1</span>Lydian</li><li><span>1,2,2,1,2,2,2</span>Locrian</li><li><span>1,2,1,2,1,2,1</span>Dim half</li><li><span>2,1,2,1,2,1,2</span>Dim whole</li><li><span>2,2,2,2,2</span>Whole</li><li><span>3,1,3,1,3</span>Augmented</li><li><span>1,1,1,1,1,1,1,1,1,1,1,1</span>Chromatic</li><li><span>2,1,3,1,2,1,2</span>Roumanian Minor</li><li><span>1,3,1,2,1,2,2</span>Spanish Gypsy</li><li><span>3,2,1,1,3,2</span>Blues</li><li><span>2,2,3,2,3</span>Diatonic</li><li><span>1,3,1,2,1,3,1</span>Double Harmonic</li><li><span>1,2,1,1,1,2,2,2</span>Eight Tone Spanish</li><li><span>1,3,2,2,2,1,1</span>Enigmatic</li><li><span>2,2,2,2,1,1</span>Leading Whole Tone</li><li><span>2,2,2,2,1,2,1</span>Lydian Augmented</li><li><span>1,2,2,2,2,2,1</span>Neoploitan Major</li><li><span>1,2,2,2,1,2,2</span>Neopolitan Minor</li><li><span>1,2,3,41</span>Pelog</li><li><span>2,2,2,3,1,2</span>Prometheus</li><li><span>1,3,2,3,1,2</span>Prometheus Neopolitan</li><li><span>1,3,1,3,1,3</span>Six Tone Symmetrical</li><li><span>1,2,1,2,2,2,2</span>Super Locrian</li><li><span>2,2,2,1,1,2,2</span>Lydian Minor</li><li><span>2,1,3,1,1,2,2</span>Lydian Diminished</li><li><span>2,1,1,2,1,1,1,2,1</span>Nine Tone Scale</li><li><span>2,1,2,1,2,1,2,1</span>Auxiliary Diminished</li><li><span>2,2,2,2,2,2</span>Auxiliary Augmented</li><li><span>1,2,1,2,1,2,1,2</span>Auxiliary Diminished Blues</li><li><span>2,2,1,1,2,2,2</span>Major Locrian</li><li><span>2,2,2,1,2,1,2</span>Overtone</li><li><span>1,2,1,2,2,2,2</span>Diminished Whole Tone</li><li><span>2,1,2,2,1,2,2</span>Pure Minor</li><li><span>2,3,2,2,1,2</span>Dominant 7th</li></ul></div></div>'),$("#vpcf_root_controls ul").on("click","li",function(){if($(".vpcf_error").hide(),$("#vpcf_root_controls ul li").removeClass("active"),$(this).addClass("active"),q=$("#vpcf_root_controls ul li.active").attr("id"),$("#vpcf_chords ul li").hasClass("active")){q=q.split("_")[2];var a=$("#vpcf_chords div ul li.active").children("span").text();a=a.split(",");var c=new Array;c[0]=parseInt(q);var e=1;$.each(a,function(b,a){c[e]=parseInt(q)+(parseInt(a)-1),e++}),t(c)}if($("#vpcf_scales ul li").hasClass("active")){q=q.split("_")[2];var b=$("#vpcf_scales div ul li.active").children("span").text();b=b.split(",");var d=new Array;d[0]=parseInt(q);var e=1;$.each(b,function(b,a){d[e]=parseInt(a),e++}),s(d)}}),$("#vpcf_chords div ul li").hover(function(){$(this).css("background-color",n)},function(){$(this).not(".active").css("background-color","#FFFFFF")}),$("#vpcf_scales div ul li").hover(function(){$(this).css("background-color",o)},function(){$(this).not(".active").css("background-color","#FFFFFF")}),$("#vpcf_chords div ul").on("click","li",function(){if($("#vpcf_scales div ul li").removeClass("active"),$("#vpcf_scales div ul li").css("background-color","#FFFFFF"),$("#vpcf_scales h3.vpcf_title").css("text-shadow","none"),$("#vpcf_chords div ul li").removeClass("active"),$("#vpcf_chords div ul li").css("background-color","#FFFFFF"),$("#vpcf_chords h3.vpcf_title").css("text-shadow","0px 0px 4px "+n),$("#vpcf_chords h3 .vpcf_notes").css("text-shadow","none"),$(this).addClass("active"),$(this).css("background-color",n),""==(q=$("#vpcf_root_controls ul li.active").attr("id"))|| void 0===q)$("#vpcf_chords h3 span.vpcf_error").show().fadeOut(2e3);else{q=q.split("_")[2];var a=$(this).children("span").text();a=a.split(",");var b=new Array;b[0]=parseInt(q);var c=1;$.each(a,function(d,a){b[c]=parseInt(q)+(parseInt(a)-1),c++}),t(b)}}),$("#vpcf_scales div ul").on("click","li",function(){if($("#vpcf_chords div ul li").removeClass("active"),$("#vpcf_chords div ul li").css("background-color","#FFFFFF"),$("#vpcf_chords h3.vpcf_title").css("text-shadow","none"),$("#vpcf_scales div ul li").removeClass("active"),$("#vpcf_scales div ul li").css("background-color","#FFFFFF"),$("#vpcf_scales h3.vpcf_title").css("text-shadow","0px 0px 4px "+o),$("#vpcf_scales h3 .vpcf_notes").css("text-shadow","none"),$(this).addClass("active"),$(this).css("background-color",o),""==(q=$("#vpcf_root_controls ul li.active").attr("id"))|| void 0===q)$("#vpcf_scales h3 span.vpcf_error").show().fadeOut(2500);else{q=q.split("_")[2];var a=$(this).children("span").text();a=a.split(",");var b=new Array;b[0]=parseInt(q);var c=1;$.each(a,function(d,a){b[c]=parseInt(a),c++}),s(b)}})})}}(jQuery)